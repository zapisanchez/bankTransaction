{"ast":null,"code":"var _jsxFileName = \"/home/zapi/pruebaReact/bankview/src/Transactor.js\";\nimport React, { Component } from 'react';\nimport UserSelector from './UserSelector';\nimport { Input, Button, Label, Message } from 'semantic-ui-react';\nimport axios from 'axios';\n\nclass Transactor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fromHash: 0,\n      toHash: 0\n    }; //I think this is not neccessary...\n\n    this.checkAndTransact = this.checkAndTransact.bind(this);\n    this.updateInputValue = this.updateInputValue.bind(this);\n  }\n\n  doGetPetition() {\n    this.props.onPutDone();\n  }\n\n  updateFromHashSelected(fromHash) {\n    console.log(\"Hash FROM :\" + fromHash);\n    this.setState(state => ({\n      fromHash: fromHash\n    }));\n  }\n\n  updateToHashSelected(toHash) {\n    console.log(\"Hash TO :\" + toHash);\n    this.setState(state => ({\n      toHash: toHash\n    }));\n  }\n\n  checkAndTransact(event, data) {\n    //Here is where magic happens\n    console.log(\"---Transaction---\");\n    console.log(\"-FROM: \" + this.state.fromHash + \" type: \" + typeof parseInt(this.state.fromHash));\n    console.log(\"-TO: \" + this.state.toHash + \" type: \" + typeof parseInt(this.state.toHash));\n    console.log(\"-AMOUNT: \" + this.state.inputValue + \" type: \" + typeof parseFloat(this.state.inputValue)); // Send a POST request\n\n    axios({\n      method: 'post',\n      url: `http://localhost:8080/move`,\n      data: {\n        from: parseInt(this.state.fromHash),\n        to: parseInt(this.state.toHash),\n        amount: parseFloat(this.state.inputValue)\n      },\n      params: {\n        from: parseInt(this.state.fromHash),\n        to: parseInt(this.state.toHash),\n        amount: parseFloat(this.state.inputValue)\n      }\n    }).then(function (response) {\n      console.log(response);\n\n      if (response.status === 200) {\n        //transactions coorrectly applied\n        //Calling callback\n        this.props.doGetPetition();\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  updateInputValue(event, data) {\n    this.setState({\n      inputValue: data.value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"transaction\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Message, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Message.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Make a Transaction\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Select 2 users to make a wallet transaction\")), React.createElement(UserSelector, {\n      users: this.props.users,\n      callback: this.updateFromHashSelected.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(UserSelector, {\n      users: this.props.users,\n      callback: this.updateToHashSelected.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Select Budget\"), React.createElement(Input, {\n      placeholder: \"Money...\",\n      onChange: this.updateInputValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(Button, {\n      content: \"Transact!\",\n      onClick: this.checkAndTransact,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Transactor;","map":{"version":3,"sources":["/home/zapi/pruebaReact/bankview/src/Transactor.js"],"names":["React","Component","UserSelector","Input","Button","Label","Message","axios","Transactor","constructor","props","state","fromHash","toHash","checkAndTransact","bind","updateInputValue","doGetPetition","onPutDone","updateFromHashSelected","console","log","setState","updateToHashSelected","event","data","parseInt","inputValue","parseFloat","method","url","from","to","amount","params","then","response","status","catch","error","value","render","users"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\nimport UserSelector from './UserSelector'\nimport { Input, Button, Label, Message } from 'semantic-ui-react'\nimport axios from 'axios';\n\nclass Transactor extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = \n        {\n            fromHash : 0,\n            toHash  : 0\n        }\n\n        //I think this is not neccessary...\n        this.checkAndTransact = this.checkAndTransact.bind(this);\n\n        this.updateInputValue = this.updateInputValue.bind(this);\n    }\n\n    doGetPetition(){\n        this.props.onPutDone();\n    }\n\n    updateFromHashSelected(fromHash)\n    {\n        console.log(\"Hash FROM :\" + fromHash)\n        this.setState(state =>({\n            fromHash : fromHash,\n        }))\n    }\n\n    updateToHashSelected(toHash)\n    {\n        console.log(\"Hash TO :\" + toHash)\n        this.setState(state =>({\n            toHash : toHash,\n        }))\n    }\n\n    checkAndTransact(event, data){\n\n        //Here is where magic happens\n        \n        console.log(\"---Transaction---\")\n        console.log(\"-FROM: \" \n                    + this.state.fromHash \n                    + \" type: \" \n                    + typeof (parseInt(this.state.fromHash)));\n        console.log(\"-TO: \" \n                    + this.state.toHash \n                    + \" type: \" \n                    + typeof (parseInt(this.state.toHash)));\n        \n        console.log(\"-AMOUNT: \"\n                    + this.state.inputValue\n                    + \" type: \"\n                    + typeof (parseFloat(this.state.inputValue)));\n\n        // Send a POST request\naxios({\n    method: 'post',\n    url: `http://localhost:8080/move`,\n    data: {\n        from: parseInt(this.state.fromHash),\n        to: parseInt(this.state.toHash),\n        amount: parseFloat(this.state.inputValue)\n    },\n    params : \n    {from: parseInt(this.state.fromHash),\n        to: parseInt(this.state.toHash),\n        amount: parseFloat(this.state.inputValue)}\n  })\n  .then(function (response) {\n            console.log(response);\n\n            if (response.status === 200){\n                //transactions coorrectly applied\n                //Calling callback\n                this.props.doGetPetition();\n                \n            }\n\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n\n     }\n\n    updateInputValue(event, data){\n        this.setState({inputValue : data.value});\n    }\n\n    render() {\n        return (\n        <div id='transaction'>\n            <Message>\n            <Message.Header>Make a Transaction</Message.Header>\n            <p>\n              Select 2 users to make a wallet transaction\n            </p>\n            </Message>\n            <UserSelector \n                users={this.props.users}\n                callback={this.updateFromHashSelected.bind(this)} />\n            <UserSelector \n                users={this.props.users} \n                callback={this.updateToHashSelected.bind(this)}/>\n            \n            <Label >Select Budget</Label>\n            <Input placeholder='Money...'\n                    onChange={this.updateInputValue} />\n            <Button\n                content='Transact!'\n                onClick={this.checkAndTransact}\n                 />\n        </div>\n        )\n    }\n}\nexport default Transactor;"]},"metadata":{},"sourceType":"module"}